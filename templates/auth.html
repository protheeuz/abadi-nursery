<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style2.css') }}">
    <title>Otentikasi Abadi Green Nursery</title>
</head>
<body>
    <div class="container" id="container">
        <div class="form-container sign-in-container" {% if form_type != 'login' %}style="display:none;"{% endif %}>
            <form method="POST" action="{{ url_for('auth.login_view') }}">
                <h1>Masuk</h1>
                <span>Masukkan kredensial akun di sini</span>
                <input type="text" class="form-control" name="username" placeholder="Username" required>
                <input type="password" class="form-control" name="password" placeholder="Password" required>
                <div class="form-group remember-me">
                    <!-- <input type="checkbox" name="remember" id="remember">
                    <label for="remember">Ingat Saya</label> -->
                </div>
                <button type="submit" class="button">Masuk</button>
                <div class="text-center mt-3">
                    <!-- <a href="#" id="signUpLink">Daftar</a> -->
                </div>
                {% with messages = get_flashed_messages(with_categories=true) %}
                    {% if messages %}
                        <div class="mt-3">
                            {% for category, message in messages %}
                                <div class="alert alert-{{ category }}">{{ message }}</div>
                            {% endfor %}
                        </div>
                    {% endif %}
                {% endwith %}
            </form>
        </div>
        <div class="form-container sign-up-container" {% if form_type != 'register' %}style="display:none;"{% endif %}>
            <form method="POST" action="{{ url_for('auth.register_view') }}">
                <h1>Daftarkan Akun</h1>
                <span>Masukkan informasi tentang kamu di sini</span>
                <input type="text" class="form-control" name="username" placeholder="Username" required>
                <input type="text" class="form-control" name="nama_lengkap" placeholder="Nama Lengkap" required>
                <input type="password" class="form-control" name="password" placeholder="Password" required>
                <button type="submit" class="button">Daftar</button>
                <div class="text-center mt-3">
                    <!-- <a href="#" id="signInLink">Sudah punya akun? Masuk di sini</a> -->
                </div>
                {% with messages = get_flashed_messages(with_categories=true) %}
                    {% if messages %}
                        <div class="mt-3">
                            {% for category, message in messages %}
                                <div class="alert alert-{{ category }}">{{ message }}</div>
                            {% endfor %}
                        </div>
                    {% endif %}
                {% endwith %}
            </form>
        </div>
        <div class="overlay-container">
            <div class="overlay">
                <div class="overlay-panel overlay-left">
                    <h1>Selamat datang kembali!</h1>
                    <p>Agar terus terkoneksi dengan kami, harap masukkan kredensial akun Anda.</p>
                    <button class="ghost button" id="signIn">Masuk</button>
                </div>
                <div class="overlay-panel overlay-right">
                    <h1>Hello, Sahabat Tanaman Hias!</h1>
                    <p>Masukkan kredensial akun di sini untuk terus terhubung dengan kami</p>
                    <button class="ghost button" id="signUp">Daftar</button>
                </div>
            </div>
        </div>
    </div>
    <script>
        const signUpButton = document.getElementById('signUp');
        const signInButton = document.getElementById('signIn');
        const container = document.getElementById('container');
        const signUpLink = document.getElementById('signUpLink');
        const signInLink = document.getElementById('signInLink');

        signUpButton.addEventListener('click', () => {
            container.classList.add('right-panel-active');
            document.querySelector('.sign-in-container').style.display = 'none';
            document.querySelector('.sign-up-container').style.display = 'block';
        });

        signInButton.addEventListener('click', () => {
            container.classList.remove('right-panel-active');
            document.querySelector('.sign-up-container').style.display = 'none';
            document.querySelector('.sign-in-container').style.display = 'block';
        });

        signUpLink.addEventListener('click', (e) => {
            e.preventDefault();
            container.classList.add('right-panel-active');
            document.querySelector('.sign-in-container').style.display = 'none';
            document.querySelector('.sign-up-container').style.display = 'block';
        });

        signInLink.addEventListener('click', (e) => {
            e.preventDefault();
            container.classList.remove('right-panel-active');
            document.querySelector('.sign-up-container').style.display = 'none';
            document.querySelector('.sign-in-container').style.display = 'block';
        });
    </script>
</body>
</html>
